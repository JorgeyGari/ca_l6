==================
WARNING: ThreadSanitizer: data race (pid=300651)
  Read of size 8 at 0x7ffc29bfe7a0 by thread T2:
    #0 std::thread::_State_impl<std::thread::_Invoker<std::tuple<main::{lambda()#1}> > >::_M_run() <null> (counter+0x40185b)
    #1 execute_native_thread_routine /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libstdc++-v3/src/c++11/thread.cc:82 (libstdc++.so.6+0xdca22)

  Previous write of size 8 at 0x7ffc29bfe7a0 by thread T1:
    #0 std::thread::_State_impl<std::thread::_Invoker<std::tuple<main::{lambda()#1}> > >::_M_run() <null> (counter+0x4018a1)
    #1 execute_native_thread_routine /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libstdc++-v3/src/c++11/thread.cc:82 (libstdc++.so.6+0xdca22)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x1e7a0)

  Thread T2 (tid=300654, running) created by main thread at:
    #0 pthread_create /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libsanitizer/tsan/tsan_interceptors_posix.cpp:1001 (libtsan.so.2+0x62486)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) /opt/tmp/gcc-12.1.0_build/x86_64-unknown-linux-gnu/libstdc++-v3/include/x86_64-unknown-linux-gnu/bits/gthr-default.h:663 (libstdc++.so.6+0xdcd2b)

  Thread T1 (tid=300653, finished) created by main thread at:
    #0 pthread_create /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libsanitizer/tsan/tsan_interceptors_posix.cpp:1001 (libtsan.so.2+0x62486)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) /opt/tmp/gcc-12.1.0_build/x86_64-unknown-linux-gnu/libstdc++-v3/include/x86_64-unknown-linux-gnu/bits/gthr-default.h:663 (libstdc++.so.6+0xdcd2b)

SUMMARY: ThreadSanitizer: data race (/home/alumnos/a0452172/ComputerArchitecture/lab6/release-tsan/counter+0x40185b) in std::thread::_State_impl<std::thread::_Invoker<std::tuple<main::{lambda()#1}> > >::_M_run()
==================
==================
WARNING: ThreadSanitizer: data race (pid=300651)
  Read of size 8 at 0x7ffc29bfe7a8 by thread T2:
    #0 std::thread::_State_impl<std::thread::_Invoker<std::tuple<main::{lambda()#1}> > >::_M_run() <null> (counter+0x40186c)
    #1 execute_native_thread_routine /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libstdc++-v3/src/c++11/thread.cc:82 (libstdc++.so.6+0xdca22)

  Previous write of size 8 at 0x7ffc29bfe7a8 by thread T1:
    #0 std::thread::_State_impl<std::thread::_Invoker<std::tuple<main::{lambda()#1}> > >::_M_run() <null> (counter+0x4018b2)
    #1 execute_native_thread_routine /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libstdc++-v3/src/c++11/thread.cc:82 (libstdc++.so.6+0xdca22)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x1e7a8)

  Thread T2 (tid=300654, running) created by main thread at:
    #0 pthread_create /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libsanitizer/tsan/tsan_interceptors_posix.cpp:1001 (libtsan.so.2+0x62486)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) /opt/tmp/gcc-12.1.0_build/x86_64-unknown-linux-gnu/libstdc++-v3/include/x86_64-unknown-linux-gnu/bits/gthr-default.h:663 (libstdc++.so.6+0xdcd2b)

  Thread T1 (tid=300653, finished) created by main thread at:
    #0 pthread_create /opt/tmp/gcc-12.1.0_source/gcc-12.1.0/libsanitizer/tsan/tsan_interceptors_posix.cpp:1001 (libtsan.so.2+0x62486)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) /opt/tmp/gcc-12.1.0_build/x86_64-unknown-linux-gnu/libstdc++-v3/include/x86_64-unknown-linux-gnu/bits/gthr-default.h:663 (libstdc++.so.6+0xdcd2b)

SUMMARY: ThreadSanitizer: data race (/home/alumnos/a0452172/ComputerArchitecture/lab6/release-tsan/counter+0x40186c) in std::thread::_State_impl<std::thread::_Invoker<std::tuple<main::{lambda()#1}> > >::_M_run()
==================
counter = 1.6e+06
Time = 127354 microseconds
ThreadSanitizer: reported 2 warnings
